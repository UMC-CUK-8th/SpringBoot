# 제목 없음

# 🎯핵심 키워드

---

<aside>
💡 주요 내용들에 대해 조사해보고, 자신만의 생각을 통해 정리해보세요!
레퍼런스를 참고하여 정의, 속성, 장단점 등을 적어주셔도 됩니다.
조사는 공식 홈페이지 **Best**, 블로그(최신 날짜) **Not Bad**

</aside>

**이번 주차는 핵심 키워드를 무조건 100% 다 조사 해야 하며 자세히 조사 할 것을 권고 드립니다.**

- Spring Data JPA의 Paging
    
    page 와 slice 모두 Spring Data JPA 에서 페이징을 위해 제공하는 객체이다. paging 에서는 파라미터로 Pageable 객체를 받고 이 객체는 pagination 을 위한 정보를 저장하는 객체이다. 정적 팩토리 메서드 of 를 사용하여 인스턴스를 생성할 수 있다. 
    
    page : 0부터 시작하는 인덱스 번호
    
    size : 한페이지에 반환할 데이터의갯수
    
    sort : 정렬방식
    
    - Page
        
        page 는 조회 쿼리 이후 전체 데이터 갯수를 한번 더 조회하는 카운트 쿼리가 실행된다. 총 전체 데이터 갯수가 필요한 환경에서 유리하다. page는 slice 를 상속하며 slice 가 가지고 있는 메서드를 사용할 수 있다. 추가적으로 구현하는 메서드로는 getTotalElememts(): 전체 데이터갯수 조회 와 getTotalPages(): 전체 페이지 수 반환이 있다. 이를 통해 전체 데이터 갯수, 페이지 수 확인 가능하다.
        
    - Slice
        
        slice 는 카운트 쿼리가 나가지 않고 다음 slice 가 존재하는지 여부만 확인할 수 있기 때문에, 데이터 양이 많으면 많을 수록 slice 를 사용하는 것이 성능상 유리하다. slice 는 Streamable 를 상속받는 인터페이스로 페이징과 관련된 여러 메서드를 가지고 있다.
        
        ![image.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/image.png)
        
        현재 페이지 내용을 확인하거나 다음페이지, 이전페이지에 대한 정보를 가져올 수 있다.
        
- 객체 그래프 탐색
    
    spring 에서 제공하는 객체 그래프 탐색이란 서로 연결된 객체들 사이를 연쇄적으로 참조하며 접근하는 행위를 말한다. 여러 엔티티 관계가 존재한다고 할때 하나의 객체에서 시작해서 연관된 객체를 타고 내려가면서 원하는 속성에 접근할 수 있도록 하는 것이 객체 그래프 탐색이다. 객체는 상속, 연관관게가 맺어져 있다면 자유롭게 그래프를 탐색 할 수있다. @ManyToOne, @OneToMany 등 연관관계 매핑을 통해 객체 그래프를 구성한다. 
    
    JPA 를 사용할 때에 연관된 객체를 처음부터 데이터베이스에서 가져오는 대신, 필요한 시점에 데이터 베이스를 조회하여 객체를 생성하는 프록시 기술을 사용한다. 이를 통해 지연로딩을 구현하여 연관된 객체를 탐색 할때 필요한 시점에만 데이터 베이스를 조회하도록 할 수 있다.  
    
    하지만 다른 테이블의 객체를 조회한다는 것은 SQL 문을 확인 하기 전까지 객체가 어디까지 탐색이 가능한지 모르기 때문에 문제가 발생할 수 있다.
    
    이때에 발생하는 문제가 N+1 문제 이고 따라서 JPA 는 즉시로딩과 지연로딩이라는 2가지 로딩기법을 제시한다. N+1 문제를 해결하기 위한 방법으로 fetch join 등 설정 기법이 존재한다.
    

# 📢 학습 후기

---

- 이번 주차 워크북을 해결해보면서 어땠는지 회고해봅시다.
- 핵심 키워드에 대해 완벽하게 이해했는지? 혹시 이해가 안 되는 부분은 뭐였는지?

<aside>
💡

</aside>

# ⚠️ 스터디 진행 방법

---

1. 스터디를 진행하기 전, 워크북 내용들을 모두 채우고 스터디에서는 서로 모르는 내용들을 공유해주세요.
2. 미션은 워크북 내용들을 모두 완료하고 나서 스터디 전/후로 진행해보세요.
3. 다음주 스터디를 진행하기 전, 지난주 미션을 서로 공유해서 상호 피드백을 진행하시면 됩니다.

# 🔥 미션

---

### [UMC 서버 워크북 참고 자료](https://github.com/CYY1007/UMC_SERVER_WORKBOOK.git)

[GitHub - chock-cho/UMC-7th-spring-workbook at feature-week9-workbook](https://github.com/chock-cho/UMC-7th-spring-workbook/tree/feature-week9-workbook)

---

아래의 API를 구현해야 하며, 추가 조건을 무조건 포함해서 구현을 해야 함.

4개 중 3개 이상의 API를 구현해야 하며 그 이하(0개~2개 구현)는 **원 아웃** 부여.

**2개 이상을 구현 했다고 해도, 추가 조건을 모두 만족하지 않을 경우 구현하지 않은 것으로 판단함.**

**핵심 키워드를 하나라도 조사를 하지 않을 시 역시 원 아웃 부여.**

**구현이 필요한 API 목록**

1. 내가 작성한 리뷰 목록
    - 참고 화면
        
        ![Untitled](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/Untitled.png)
        
2. 특정 가게의 미션 목록
3. 내가 진행중인 미션 목록
4. 진행중인 미션 진행 완료로 바꾸기
    - 참고 화면
        
        ![Untitled](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/Untitled%201.png)
        

**API 구현 조건**

1. 반드시 Paging처리를 할 것, 한 페이지에 10개씩 조회 **프론트엔드는 1 이상의 page 번호를 전달**
2. 필요한 데이터는 데이터베이스에서 직접 삽입을 해서 진행 (미션 외 API는 구현해도 됨) 
    1. 다만 미션 외 API는 작성을 해도 구현한 API 갯수로 카운트가 되지 않음
3. 프론트엔드가 주는 page는 쿼리 스트링으로 받아오며 이에 대한 처리를 하는 커스텀 어노테이션 구현을 반드시 할 것 
    1. 1번의 page 범위에 따라 커스텀 어노테이션은 page 1을 0으로 만들어 return 해야 한다.
    2. 그와 동시에 page의 범위가 너무 작은지 (0 이하) 판단을 하여 작은 경우 에러를 발생
    3. 에러 발생 시 반드시 RestControllerAdvice와 연계를 해야 함
4. 반드시 모든 API에 대해 Swagger 명세를 해야 한다. 
5. Converter에서 절대로 for문을 사용해서는 안되며, 무조건 Java의 Stream을 사용해야 한다.
6. 무조건 빌더 패턴을 사용해야 한다.
7. API 구현

# 💪 미션 기록

---

<aside>
🍀 미션 기록의 경우, 아래 미션 기록 토글 속에 작성하시거나, 페이지를 새로 생성하여 해당 페이지에 기록하여도 좋습니다!

하지만, 결과물만 올리는 것이 아닌, **중간 과정 모두 기록하셔야 한다는 점!** 잊지 말아주세요.

</aside>

- **미션 기록**
    1. 내가 작성한 미션 목록
    
    ![사용자의 리뷰 조회 성공화면.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8C%E1%85%A1%E1%84%8B%E1%85%B4_%E1%84%85%E1%85%B5%E1%84%87%E1%85%B2_%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%A9%E1%86%BC%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB.png)
    
    ![1페이지 부터 입력시 성공호면.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/1%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5_%E1%84%87%E1%85%AE%E1%84%90%E1%85%A5_%E1%84%8B%E1%85%B5%E1%86%B8%E1%84%85%E1%85%A7%E1%86%A8%E1%84%89%E1%85%B5_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%A9%E1%86%BC%E1%84%92%E1%85%A9%E1%84%86%E1%85%A7%E1%86%AB.png)
    
    ![페이지 -1입력시 에러화면.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5_-1%E1%84%8B%E1%85%B5%E1%86%B8%E1%84%85%E1%85%A7%E1%86%A8%E1%84%89%E1%85%B5_%E1%84%8B%E1%85%A6%E1%84%85%E1%85%A5%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB.png)
    
    다음과 같이 스웨거에서 특정 사용자의 리뷰를 조회할 수 있습니다. 닉네임과 리뷰 내용 가게 이름 별점 작성시간 을 조회하였고 페이징 오류는 커스텀 어노테이션을 통해 0이하의 수 입력시 오류메세지가 뜨도록 설정했습니다. 
    
    ![리뷰조회 DTO.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%85%E1%85%B5%E1%84%87%E1%85%B2%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_DTO.png)
    
    DTO 파일로 리뷰조회에 필요한 항목들을 리스트로 만들었습니다.
    
    ![리뷰조회 서비스.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%85%E1%85%B5%E1%84%87%E1%85%B2%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3.png)
    
    ![리뷰조회 리뷰 레포지토리.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%85%E1%85%B5%E1%84%87%E1%85%B2%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%85%E1%85%B5%E1%84%87%E1%85%B2_%E1%84%85%E1%85%A6%E1%84%91%E1%85%A9%E1%84%8C%E1%85%B5%E1%84%90%E1%85%A9%E1%84%85%E1%85%B5.png)
    
    서비스와 레포지토리 파일으로 필요한 회원별로 리뷰를 조회해서 페이지 는 10개로 나누어 리스트로 반환합니다
    
    ![가게 미션조회 converter.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%80%E1%85%A1%E1%84%80%E1%85%A6_%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_converter.png)
    
    컨버터 파일로 반환값을 지정해줍니다.
    
    ![리뷰조회 컨트롤러.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%85%E1%85%B5%E1%84%87%E1%85%B2%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%B3%E1%84%85%E1%85%A9%E1%86%AF%E1%84%85%E1%85%A5.png)
    
    컨트롤러 파일로 스웨거 상에서 리스트로 출력되게 하고 페이지 id 는 사용자에게 맞게 1부터 시작하도록 지정했습니다.
    
    ![페이징 오류 어노테이션.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%A9%E1%84%85%E1%85%B2_%E1%84%8B%E1%85%A5%E1%84%82%E1%85%A9%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB.png)
    
    ![페이징오류 에러 어노테이션.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5%E1%86%BC%E1%84%8B%E1%85%A9%E1%84%85%E1%85%B2_%E1%84%8B%E1%85%A6%E1%84%85%E1%85%A5_%E1%84%8B%E1%85%A5%E1%84%82%E1%85%A9%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB.png)
    
    페이징 할때에 0 이하의 수를 입력하였을때 오류메세지를 띄우기 위해 위와 같이 커스텀 어노테이션을 사용했습니다. 
    
1. 가게의 미션 목록 조회
    
    ![가게 미션조회 성공화면1.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%80%E1%85%A1%E1%84%80%E1%85%A6_%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%A9%E1%86%BC%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB1.png)
    
    ![가게 미션조회 성공화면.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%80%E1%85%A1%E1%84%80%E1%85%A6_%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%A9%E1%86%BC%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB.png)
    
    ![가게 미션조회 성공화면 2.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%80%E1%85%A1%E1%84%80%E1%85%A6_%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%A9%E1%86%BC%E1%84%92%E1%85%AA%E1%84%86%E1%85%A7%E1%86%AB_2.png)
    
    ![가게 미션조회 페이지 에러 표시.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%80%E1%85%A1%E1%84%80%E1%85%A6_%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5_%E1%84%8B%E1%85%A6%E1%84%85%E1%85%A5_%E1%84%91%E1%85%AD%E1%84%89%E1%85%B5.png)
    
    다음과 같이 스웨거의 성공 응답이 출력되면 가게 이름과 가게가 속한 지역구 이름, 미션 이름, 미션 수행 여부(방문여부) 등의결과가 담긴 미션목록이 조회되도록 구현했습니다. 역시 페이징 오류 에러화면도 구현했습니다.
    
    ![가게미션조회 DTO.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%80%E1%85%A1%E1%84%80%E1%85%A6%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_DTO.png)
    
    DTO 파일로 미션목록 조회에 필요한 값을 리스트로 만들었습니다.
    
    ![가게 미션조회 서비스.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%80%E1%85%A1%E1%84%80%E1%85%A6_%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3.png)
    
    ![가게미션조회 미션 레포지토리.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%80%E1%85%A1%E1%84%80%E1%85%A6%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB_%E1%84%85%E1%85%A6%E1%84%91%E1%85%A9%E1%84%8C%E1%85%B5%E1%84%90%E1%85%A9%E1%84%85%E1%85%B5.png)
    
    서비스와 미션 repository 파일로 가게아이디를 통해 미션을 조회하여 페이징했습니다.
    
    ![가게 미션조회 converter.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%80%E1%85%A1%E1%84%80%E1%85%A6_%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_converter%201.png)
    
    converter 파일로 DTO 파일을 반환하는 과정입니다. 미션이 수행됬는지 상태도 같이 반환하고 싶어서 미션과 매핑되어있는 Usermissions 테이블의 미션완료를 알려주는 missionVisit 값을 stream 으로 불러왔고 최신의 값을 호출하여 반환하도록 했습니다.
    
    ![가게미션조회 컨트롤러.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%80%E1%85%A1%E1%84%80%E1%85%A6%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%B3%E1%84%85%E1%85%A9%E1%86%AF%E1%84%85%E1%85%A5.png)
    
    controller 파일로 리뷰조회와 마찬가지로 페이지가 1부터 입력받도록 하였습니다.
    
    1. 내가 진행중인 미션 목록
    
    ![회원 미션 목록조회 성공 1.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB_%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB_%E1%84%86%E1%85%A9%E1%86%A8%E1%84%85%E1%85%A9%E1%86%A8%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%A9%E1%86%BC_1.png)
    
    ![회원의 진행중 미션목록 2.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8B%E1%85%B4_%E1%84%8C%E1%85%B5%E1%86%AB%E1%84%92%E1%85%A2%E1%86%BC%E1%84%8C%E1%85%AE%E1%86%BC_%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%86%E1%85%A9%E1%86%A8%E1%84%85%E1%85%A9%E1%86%A8_2.png)
    
    ![페이징 에러처리.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%A6%E1%84%85%E1%85%A5%E1%84%8E%E1%85%A5%E1%84%85%E1%85%B5.png)
    
    ![미션목록 사용자 에러 처리.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%86%E1%85%A9%E1%86%A8%E1%84%85%E1%85%A9%E1%86%A8_%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8C%E1%85%A1_%E1%84%8B%E1%85%A6%E1%84%85%E1%85%A5_%E1%84%8E%E1%85%A5%E1%84%85%E1%85%B5.png)
    
    스웨거에 입력시 위와 같이 성공적인 응답에서는 가게이름 , 미션이름,  포인트, 현재 미션 수행 상태(진행중 visiting) 그리고 미션이 생성된 시각과 업데이트 된 시각이 표현되도록 했습니다.
    
    ![회원미션목록 DTO.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%86%E1%85%A9%E1%86%A8%E1%84%85%E1%85%A9%E1%86%A8_DTO.png)
    
    회원 미션 목록 조회에 사용한 DTO 파일이다. 진행죽인 미션목록에 필요한 가게이름, 미션이름, 상태, 포인트 그리고 업데이트 시각과 생성 시각을 리스트로 변환했다.
    
    ![회원 미션조회 서비스.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB_%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%8C%E1%85%A9%E1%84%92%E1%85%AC_%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3.png)
    
    ![회원미션목록 레포지퇼.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%86%E1%85%A9%E1%86%A8%E1%84%85%E1%85%A9%E1%86%A8_%E1%84%85%E1%85%A6%E1%84%91%E1%85%A9%E1%84%8C%E1%85%B5%E1%84%90%E1%85%AC%E1%86%AF.png)
    
    사용한 repository 와 service 화면이다. 서비스파일에서는 입력받은 회원 아이디로 회원을 조회하고 그 회원을 바탕으로 회원과 미션 상태(진행중 상태) 로 미션을 조회하고 그 미션을 페이징으로 받는다.
    
    usermission 클래스가 미션클래스와 회원클래스를 연결하는 매핑테이블이므로 두 클래스 모두 참조할 수 있기에 수월하게 찾을 수 있었다.
    
    ![회원미션목록 컨버터.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%86%E1%85%A9%E1%86%A8%E1%84%85%E1%85%A9%E1%86%A8_%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%87%E1%85%A5%E1%84%90%E1%85%A5.png)
    
    converter 파일으로 리스트로 출력되는 값을 호출하였다. usermissions 클래스가 매핑 클래스이므로 회원클래스와 미션 클래스에 아까와 같이 쉽게 접근 할 수 있었다.(객체그래프 탐색)
    
    ![회원미션목록 controller.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/%E1%84%92%E1%85%AC%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%86%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB%E1%84%86%E1%85%A9%E1%86%A8%E1%84%85%E1%85%A9%E1%86%A8_controller.png)
    
    controller 화면으로 스웨거에 뜨는 설명과 스웨거에서 입력을 받을 memberid 와 page를 받는다. 마찬가지로 page는 1부터 입력되도록 하였다. 
    
    ![@ExistMember 어노테이션.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/ExistMember_%E1%84%8B%E1%85%A5%E1%84%82%E1%85%A9%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB.png)
    
    ![@ExistMember 어노테이션 valid.png](%E1%84%8C%E1%85%A6%E1%84%86%E1%85%A9%E1%86%A8%20%E1%84%8B%E1%85%A5%E1%86%B9%E1%84%8B%E1%85%B3%E1%86%B7%20202bd0dd45e58007bad4f828fa3392a3/ExistMember_%E1%84%8B%E1%85%A5%E1%84%82%E1%85%A9%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB_valid.png)
    
    사용자 미션목록 조회와 사용자의 리뷰조회 에서 사용한 커스텀 어노테이션 @ExistMember 이다 해당 사용자가 없을 경우 해당 어노테이션으로 설정한 오류 메세지가 뜨도록 하였다
    

> **github 링크**
> 
> 
> 

[시니어 미션 (1)](https://www.notion.so/1-202bd0dd45e58003917dd0ed15f03ba4?pvs=21)

# ⚡ 트러블 슈팅

---

<aside>
💡 실습하면서 생긴 문제들에 대해서, **이슈 - 문제 - 해결** 순서로 작성해주세요.

</aside>

<aside>
💡 스스로 해결하기 어렵다면? 스터디원들에게 도움을 요청하거나 **너디너리의 지식IN 채널에 질문**해보세요!

</aside>

- ⚡이슈 작성 예시 (이슈가 생기면 아래를 복사해서 No.1, No.2, No3 … 으로 작성해서 트러블 슈팅을 꼭 해보세요!)
    
    **`이슈`**
    
    👉 앱 실행 중에 노래 다음 버튼을 누르니까 앱이 종료되었다.
    
    **`문제`**
    
    👉 노래클래스의 데이터리스트의 Size를 넘어서 NullPointException이 발생하여 앱이 종료된 것이었다. 
    
    **`해결`**
    
    👉  노래 다음 버튼을 눌렀을 때 데이터리스트의 Size를 검사해 Size보다 넘어가려고 하면 다음으로 넘어가는 메서드를 실행시키지 않고, 첫 노래로 돌아가게끔 해결
    
    **`참고레퍼런스`**
    
    - 링크
- ⚡이슈 No.1
    
    **`이슈`**
    
    👉 [트러블이 생긴 상태 작성]
    
    가게의 미션 목록 조회에서 미션이 진행중인지 완료인지 미진행인지 보여주는 상태를 보여주고 싶었지만 미션 클래스와 회원미션클래스 는 단방향 매핑으로 연결되어 get으로 불러오지 못했다
    
    **`문제`**
    
    👉 [어떤 이유로 해당 이슈가 일어났는지 작성]
    
    회원미션테이블 —> 미션테이블 로 연결된 단방향 매핑으로 get()으로 값을 호출할 수없었다.
    
    **`해결`**
    
    👉  [해결 방법 작성]
    
    stream으로 미션테이블에서 회원미션테이블의 상태를 읽어왔다. 리스트로 변환해서 읽어와도 됬지만 상태 값만 필요하다고 판단하여 최신의 상태만 반환하여 상태값을 가져 올 수있었다. 
    
    **`참고레퍼런스`**
    
    - [문제 해결 시 참고한 링크]
- ⚡이슈 No.1
    
    **`이슈`**
    
    👉 [트러블이 생긴 상태 작성]
    
    레포지토리에서 findbymemberandmissitvisit 에서 오류가 발생하였다
    
    **`문제`**
    
    👉 [어떤 이유로 해당 이슈가 일어났는지 작성]
    
    레포지토리에서 설정한 이름이 실제 테이블에 있는 이름과 달라 찾을 수 없었다.
    
    **`해결`**
    
    👉  [해결 방법 작성]
    
    레포지토리에서 설정한 이름으로 수정후 다시 호출하니 클래스에 있는 이름과 같아 찾을 수 있었다.
    
    **`참고레퍼런스`**
    
    - [문제 해결 시 참고한 링크]

---

Copyright © 2023 최용욱(똘이) All rights reserved.

Copyright © 2024 김준환(제이미) All rights reserved.